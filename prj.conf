#
# Copyright (c) 2021 Nordic Semiconductor ASA
#
# SPDX-License-Identifier: LicenseRef-Nordic-5-Clause
#

# General configuration
CONFIG_SYSTEM_WORKQUEUE_STACK_SIZE=2048
CONFIG_FLASH=y
CONFIG_FLASH_MAP=y
CONFIG_NVS=y
CONFIG_SETTINGS=y
CONFIG_NVS_LOOKUP_CACHE=y
CONFIG_SETTINGS_NVS_NAME_CACHE=y
CONFIG_HWINFO=y



# Bootloader configuration
CONFIG_STREAM_FLASH=y
CONFIG_BOOTLOADER_MCUBOOT=y
CONFIG_IMG_MANAGER=y
CONFIG_MCUBOOT_IMG_MANAGER=y
CONFIG_MCUBOOT_GENERATE_CONFIRMED_IMAGE=y
CONFIG_MCUBOOT_IMGTOOL_SIGN_VERSION="1.0.3+0"
CONFIG_REBOOT=y

# Bluetooth configuration
CONFIG_BT=y
CONFIG_BT_DEVICE_NAME_MAX=15
CONFIG_BT_DEVICE_NAME="Tiem"
CONFIG_BT_NUS=y
CONFIG_BT_SMP=y
CONFIG_BT_NUS_AUTHEN=n
CONFIG_BT_BONDABLE=n
CONFIG_BT_RX_STACK_SIZE=2048
CONFIG_SYSTEM_WORKQUEUE_STACK_SIZE=2048
CONFIG_BT_DEVICE_APPEARANCE=833
CONFIG_BT_FIXED_PASSKEY=y


#enable OTA via BLE
CONFIG_MCUMGR=y
CONFIG_MCUMGR_TRANSPORT_BT=y
# CONFIG_IMG_MANAGER=y
# CONFIG_STREAM_FLASH=y
CONFIG_ZCBOR=y
CONFIG_MCUMGR_GRP_IMG=y
CONFIG_MCUMGR_GRP_OS=y
CONFIG_MCUMGR_GRP_ZBASIC=y
CONFIG_MCUMGR_GRP_ZBASIC_STORAGE_ERASE=y
CONFIG_MCUMGR_TRANSPORT_BT_AUTHEN=n 
CONFIG_MCUMGR_TRANSPORT_NETBUF_COUNT=6
CONFIG_MCUMGR_MGMT_NOTIFICATION_HOOKS=y
CONFIG_MCUMGR_GRP_IMG_UPLOAD_CHECK_HOOK=y
CONFIG_MCUMGR_SMP_COMMAND_STATUS_HOOKS=y
CONFIG_BT_L2CAP_TX_MTU=498
CONFIG_BT_BUF_ACL_RX_SIZE=502
CONFIG_MCUMGR_TRANSPORT_NETBUF_SIZE=1024
CONFIG_SYSTEM_WORKQUEUE_STACK_SIZE=2800
CONFIG_BT_HCI_VS_EXT=y
CONFIG_MCUMGR_TRANSPORT_BT_CONN_PARAM_CONTROL=y
CONFIG_MCUMGR_GRP_OS_BOOTLOADER_INFO=y
CONFIG_MCUMGR_TRANSPORT_BT_REASSEMBLY=y 
CONFIG_NCS_SAMPLE_MCUMGR_BT_OTA_DFU_SPEEDUP=y 

CONFIG_BT_PERIPHERAL=y
CONFIG_BT_PERIPHERAL_PREF_MIN_INT=36
CONFIG_BT_PERIPHERAL_PREF_MAX_INT=36
CONFIG_BT_PERIPHERAL_PREF_TIMEOUT=500
CONFIG_BT_GAP_AUTO_UPDATE_CONN_PARAMS=y
CONFIG_BT_CONN_PARAM_UPDATE_TIMEOUT=1000
CONFIG_BT_GATT_DYNAMIC_DB=y
CONFIG_BT_DEVICE_NAME_DYNAMIC=y
CONFIG_BT_DEVICE_NAME_MAX=15
CONFIG_BT_MAX_CONN=1
CONFIG_BT_BUF_ACL_TX_SIZE=251
CONFIG_BT_CTLR_DATA_LENGTH_MAX=251

# CONFIG_BT_COMPANY_ID_NORDIC=0x0059
CONFIG_BT_COMPANY_ID=0x0059
# CONFIG_BT_LL_SOFTDEVICE_HEADERS_INCLUDE=y
CONFIG_BT_LL_SOFTDEVICE=y

CONFIG_BT_LL_SOFTDEVICE_BUILD_TYPE_LIB=y
CONFIG_BT_HCI_TX_STACK_SIZE=1536

CONFIG_BT_CTLR_SDC_PERIPHERAL_COUNT=1
CONFIG_BT_CTLR_SDC_MAX_CONN_EVENT_LEN_DEFAULT=7500
# CONFIG_BT_CTLR_SDC_CENTRAL_ACL_EVENT_SPACING_DEFAULT=7500

CONFIG_BT_CTLR_SDC_PERIODIC_ADV_EVENT_LEN_DEFAULT=7500
CONFIG_BT_CTLR_SDC_TX_PACKET_COUNT=3
CONFIG_BT_CTLR_SDC_RX_PACKET_COUNT=2
CONFIG_BT_CTLR_SDC_SCAN_BUFFER_COUNT=3
CONFIG_BT_CTLR_SDC_PERIODIC_SYNC_BUFFER_COUNT=3
# CONFIG_BT_CTLR_SDC_RX_PRIO=6
CONFIG_BT_CTLR_FAL_SIZE=8
CONFIG_BT_LL_SOFTDEVICE_PERIPHERAL=y
# CONFIG_BT_CTLR_SDC_BIG_RESERVED_TIME_US=1600
# CONFIG_BT_CTLR_SDC_CIG_RESERVED_TIME_US=1300
# CONFIG_BT_CTLR_SDC_CIS_SUBEVENT_LENGTH_US=0
# CONFIG_BT_NRF_SERVICES=y
CONFIG_BT_GATT_AUTO_SEC_REQ=y
CONFIG_BT_BROADCASTER=y
# CONFIG_BT_CONN=y
CONFIG_BT_PHY_UPDATE=y
CONFIG_BT_DATA_LEN_UPDATE=y
CONFIG_BT_BUF_ACL_TX_COUNT=3
CONFIG_BT_BUF_ACL_RX_COUNT=6
CONFIG_BT_BUF_EVT_RX_SIZE=68
CONFIG_BT_BUF_EVT_RX_COUNT=10
CONFIG_BT_BUF_EVT_DISCARDABLE_SIZE=43
CONFIG_BT_BUF_EVT_DISCARDABLE_COUNT=3
CONFIG_BT_BUF_CMD_TX_SIZE=65
# CONFIG_BT_HAS_HCI_VS=y
CONFIG_BT_HCI_VS=y
# CONFIG_BT_RPA=y
CONFIG_BT_ASSERT=y
CONFIG_BT_ASSERT_VERBOSE=y
CONFIG_BT_DEBUG_MONITOR_RTT=y
CONFIG_BT_DEBUG_MONITOR_RTT_BUFFER=1
CONFIG_BT_DEBUG_MONITOR_RTT_BUFFER_NAME="btmonitor"
CONFIG_BT_DEBUG_MONITOR_RTT_BUFFER_SIZE=1024
CONFIG_BT_LONG_WQ=y
# CONFIG_BT_LONG_WQ_STACK_SIZE=1140
CONFIG_BT_LONG_WQ_PRIO=10
CONFIG_BT_LONG_WQ_INIT_PRIO=50
# CONFIG_BT_HCI_HOST=y
# CONFIG_BT_HCI_TX_PRIO=7
# CONFIG_BT_HCI_RESERVE=0
CONFIG_BT_RECV_WORKQ_BT=y
# CONFIG_BT_RX_PRIO=8
# CONFIG_BT_DRIVER_RX_HIGH_PRIO=6
CONFIG_BT_LIM_ADV_TIMEOUT=30
# CONFIG_BT_CONN_TX_USER_DATA_SIZE=8
CONFIG_BT_CONN_TX_MAX=3
CONFIG_BT_AUTO_PHY_UPDATE=y
# CONFIG_BT_USER_DATA_LEN_UPDATE is not set
CONFIG_BT_AUTO_DATA_LEN_UPDATE=y
# CONFIG_BT_REMOTE_INFO is not set
CONFIG_BT_SMP_ENFORCE_MITM=y
# CONFIG_BT_KEYS_OVERWRITE_OLDEST is not set
CONFIG_BT_SMP_MIN_ENC_KEY_SIZE=7
CONFIG_BT_L2CAP_TX_BUF_COUNT=3
CONFIG_BT_L2CAP_TX_FRAG_COUNT=2
# CONFIG_BT_L2CAP_RESCHED_MS=1000
CONFIG_BT_ATT_ENFORCE_FLOW=y
CONFIG_BT_ATT_PREPARE_COUNT=0
CONFIG_BT_ATT_RETRY_ON_SEC_ERR=y
CONFIG_BT_GATT_SERVICE_CHANGED=y
CONFIG_BT_GATT_ENFORCE_SUBSCRIPTION=y
CONFIG_BT_GATT_READ_MULTIPLE=y
CONFIG_BT_GATT_READ_MULT_VAR_LEN=y
CONFIG_BT_GAP_PERIPHERAL_PREF_PARAMS=y
CONFIG_BT_PERIPHERAL_PREF_LATENCY=0
CONFIG_BT_MAX_PAIRED=1
CONFIG_BT_CREATE_CONN_TIMEOUT=3
CONFIG_BT_CONN_PARAM_RETRY_COUNT=3
CONFIG_BT_CONN_PARAM_RETRY_TIMEOUT=5000
CONFIG_BT_ID_MAX=1
CONFIG_BT_ECC=y
CONFIG_BT_TINYCRYPT_ECC=y
# CONFIG_BT_CRYPTO=y
CONFIG_DFU_MULTI_IMAGE=y
CONFIG_DFU_TARGET=y
# CONFIG_DFU_TARGET_MCUBOOT=y
# CONFIG_DFU_TARGET_STREAM=y
# CONFIG_DFU_TARGET_LOG_LEVEL_DEFAULT=y
# CONFIG_DFU_TARGET_LOG_LEVEL=1
# # CONFIG_PCD_VERSION_PAGE_BUF_SIZE=2046
# CONFIG_BLE_HCI_VSC_LOG_LEVEL_DEFAULT=y
# CONFIG_BLE_HCI_VSC_LOG_LEVEL=1


#log 
CONFIG_USE_SEGGER_RTT=y
CONFIG_BT_DEBUG_MONITOR_RTT=y
CONFIG_PRINTK=y
CONFIG_CONSOLE=y
CONFIG_UART_CONSOLE=n
CONFIG_RTT_CONSOLE=y
CONFIG_LOG=y
CONFIG_LOG_BACKEND_UART=n


